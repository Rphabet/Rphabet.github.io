---
title: MongoDB shell 탐험하기
date: 2021-08-16 21:50:00 +0900
categories: [DBMS, MongoDB]
tags: [DBMS, SQL, MongoDB] 
math: true
comments: true
typora-root-url: ../

---

본격적으로 MongoDB 를 통해 데이터베이스를 만들고, 다큐먼트에 값을 채워넣기전에 MongDB 구조에 대해 알아야할 필요가 있다. 

사실 필자는 컴퓨터 사이언스의 **"Learning-by-doing"**, 즉 직접 코딩을 하면서 지식을 쌓아가는 과정을 굉장히 좋아한다. 그렇지만 기본적인 근간이 되는 이론에 대해서는 엄격하게 먼저 훑고 지나가는 편이다.

이번 포스팅 또한 MongDB의 구조와 구성요소를 포함하여 장황한 설명으로 시작하려했으나, 최대한 간결한 포스팅을 하고 싶어 구조적인 설명은 추후 그림과 함께 간략한 설명을 곁들여 본문을 수정하겠다.



## 데이터베이스와 컬렉션 생성

db와 컬렉션을 만드는 실습을 해보자.

MongDB shell 에 다음 명령어를 입력하자.

```sql
> use testDB

> db.myCollection.insertOne( {x: 1} )
```

1. 첫번째 줄인 `use` 명령어는 어떤 **데이터베이스**를 사용할지 설정하는 명령어다. 

   하나의 db를 조작하다가 다른 **db**에 작업을 하기 위해서는 `use` 명령어로 작업할 **db**를 설정할 수 있다.

   지금처럼 없는 **db**를 세팅할 수 있는데, 세팅을 한다고 해도 새로운 **db**가 생성되진 않는다. ( 세팅만 되고 생성은 되지 않는 상태 )

2. "뜬금없이 뭐야?"라고 생각할 수 있는 두번째 커맨드이다. 

   셸에서 'db'라는 변수에 현재 세팅된 **db**가 저장되어 있다.  (즉 **testDB**가 저장되어 있음을 의미)

   뒤에 오는 `myCollection`은 **db**안에 들어있는 컬렉션을 의미하고, 

   `insertOne`은 명령어로 그 **컬렉션**안에 `{x: 1}` 이라는 **다큐멘트**를 저장하게 된다. 또한 `insertOne`은 **testDB**와 **myCollection**이 없다면 생성하게 되고, 그안에 도큐먼트 `{x: 1}`를 넣는다.

음..  db, 컬렉션, 다큐멘트 위 세개는 MongoDB의 구조와 관련이 있는데 이에 관한 부가적인 설명은 추후 그림을 통해 간결하게 정보 전달을 해보도록 하겠다.

## 데이터베이스와 컬렉션 조회

데이터베이스를 생성하고 또 다큐멘트를 생성하여 insert 하였다면 조회를 해봐야하지 않겠는가? 아래의 스크립트를 보자.

```sql
// 현재 세팅된 db
> db  

// db 목록
> show dbs 

// 세팅된 db안에 있는 컬렉션 목록
> show collections
```

(MongoDB 셸은 자바스크립트 문법을 따르기에 "//" 표시로 주석을 처리하자)



( 이 포스팅은 빠른 시일내에 수정되어 재업로드 될 예정입니다. )
